# 2026-02-10 15:17:51 - 补全错误边界 + 优化 getTopTags + 创建 posts 索引 + 并行同步

## 待办
- [x] 创建 React ErrorBoundary 组件并接入 main.tsx
- [x] 优化 getTopTags 使用 SQLite json_each() 替代 JS 端 JSON 解析
- [x] 为 posts 表创建常用查询索引
- [x] 用户管理页面支持多用户并行同步

## 执行结果
- 新建 `src/renderer/src/components/ErrorBoundary.tsx`，class component 实现全局错误捕获
- 修改 `src/renderer/src/main.tsx`，包裹 ErrorBoundary
- 重写 `getTopTags()`，单条 SQL 直接聚合，消除全表 JS 端遍历
- 在 `initDatabase()` 中添加 5 个索引：user_id、sec_uid、create_time、analyzed_at、downloaded_at
- 并行同步：syncer 新增 `getAllSyncingUserIds()`，前端 `syncingUserId` → `syncingUserIds: Set`，`syncProgress` → `syncProgressMap: Map`，移除单用户锁定逻辑
